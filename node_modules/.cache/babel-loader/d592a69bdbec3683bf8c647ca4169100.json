{"ast":null,"code":"import _slicedToArray from\"/workspaces/Electronic-Voting-System/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import\"./BallotPaper.css\";import{useEffect}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function BallotPaper(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),parties=_useState2[0],setparties=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),markdid=_useState4[0],setmarkedid=_useState4[1];var navigation=useNavigate();var voteNow=function voteNow(e){if(markdid===0){alert(\"please select one\");return;}axios.post(\"http://localhost:5000/api/v1/parties/parties\",{id:markdid}).then(function(res){if(res.data.status){alert(\"Vote successful!\");navigation(\"/Thankyou\");}else{alert(\"vote did not saved\");}}).catch(function(error){alert(\"vote did not count please try again\");});};useEffect(function(){axios.get(\"http://localhost:5000/api/v1/parties/parties\").then(function(res){setparties(res.data.parties);}).catch(function(error){alert(error.message);});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"head-text\",children:\"ELECTION NAME-YEAR\"}),/*#__PURE__*/_jsx(\"table\",{border:2,children:/*#__PURE__*/_jsx(\"tbody\",{children:parties.map(function(party){return/*#__PURE__*/_jsxs(\"tr\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"one-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:party.img,alt:\"logo\",width:100,height:100}),/*#__PURE__*/_jsx(\"h3\",{children:party.partyName})]}),/*#__PURE__*/_jsx(\"td\",{children:party.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"mark\",onClick:function onClick(){setmarkedid(party.id);},children:markdid===party.id&&\"X\"})})]},party.id);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"btns\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn fn btns bn2 \",onClick:function onClick(){return setmarkedid(0);},children:\"Clear\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn fn btns bn1\",onClick:voteNow,children:\"Vote\"})]})]})});}export default BallotPaper;","map":{"version":3,"names":["useState","useEffect","axios","useNavigate","BallotPaper","parties","setparties","markdid","setmarkedid","navigation","voteNow","e","alert","post","id","then","res","data","status","catch","error","get","message","map","party","img","partyName","name"],"sources":["/workspaces/Electronic-Voting-System/src/pages/BallotPaper/BattotPaper.js"],"sourcesContent":["import { useState } from \"react\";\nimport \"./BallotPaper.css\";\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction BallotPaper() {\n  const [parties, setparties] = useState([]);\n  const [markdid, setmarkedid] = useState(\"\");\n  const navigation = useNavigate();\n\n  const voteNow = (e) => {\n    if (markdid === 0) {\n      alert(\"please select one\");\n      return;\n    }\n    axios\n      .post(\"http://localhost:5000/api/v1/parties/parties\", { id: markdid })\n      .then((res) => {\n        if (res.data.status) {\n          alert(\"Vote successful!\");\n          navigation(\"/Thankyou\");\n        } else {\n          alert(\"vote did not saved\");\n        }\n      })\n      .catch((error) => {\n        alert(\"vote did not count please try again\");\n      });\n  };\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:5000/api/v1/parties/parties\")\n      .then((res) => {\n        setparties(res.data.parties);\n      })\n      .catch((error) => {\n        alert(error.message);\n      });\n  }, []);\n\n  return (\n    <>\n      <div className=\"page\">\n        <h4 className=\"head-text\">ELECTION NAME-YEAR</h4>\n        <table border={2}>\n          <tbody>\n            {parties.map((party) => {\n              return (\n                <tr className=\"row\" key={party.id}>\n                  <td className=\"one-item\">\n                    <img src={party.img} alt=\"logo\" width={100} height={100} />\n                    <h3>{party.partyName}</h3>\n                  </td>\n                  <td>{party.name}</td>\n                  <td>\n                    <button\n                      className=\"mark\"\n                      onClick={() => {\n                        setmarkedid(party.id);\n                      }}\n                    >\n                      {markdid === party.id && \"X\"}\n                    </button>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n        <div className=\"btns\">\n          <button className=\"btn fn btns bn2 \" onClick={() => setmarkedid(0)}>\n            Clear\n          </button>\n          <button className=\"btn fn btns bn1\" onClick={voteNow}>\n            Vote\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default BallotPaper;\n"],"mappings":"0HAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,mBAAmB,CAC1B,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,6IAE/C,QAASC,YAAW,EAAG,CACrB,cAA8BJ,QAAQ,CAAC,EAAE,CAAC,wCAAnCK,OAAO,eAAEC,UAAU,eAC1B,eAA+BN,QAAQ,CAAC,EAAE,CAAC,yCAApCO,OAAO,eAAEC,WAAW,eAC3B,GAAMC,WAAU,CAAGN,WAAW,EAAE,CAEhC,GAAMO,QAAO,CAAG,QAAVA,QAAO,CAAIC,CAAC,CAAK,CACrB,GAAIJ,OAAO,GAAK,CAAC,CAAE,CACjBK,KAAK,CAAC,mBAAmB,CAAC,CAC1B,OACF,CACAV,KAAK,CACFW,IAAI,CAAC,8CAA8C,CAAE,CAAEC,EAAE,CAAEP,OAAQ,CAAC,CAAC,CACrEQ,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,GAAIA,GAAG,CAACC,IAAI,CAACC,MAAM,CAAE,CACnBN,KAAK,CAAC,kBAAkB,CAAC,CACzBH,UAAU,CAAC,WAAW,CAAC,CACzB,CAAC,IAAM,CACLG,KAAK,CAAC,oBAAoB,CAAC,CAC7B,CACF,CAAC,CAAC,CACDO,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBR,KAAK,CAAC,qCAAqC,CAAC,CAC9C,CAAC,CAAC,CACN,CAAC,CAEDX,SAAS,CAAC,UAAM,CACdC,KAAK,CACFmB,GAAG,CAAC,8CAA8C,CAAC,CACnDN,IAAI,CAAC,SAACC,GAAG,CAAK,CACbV,UAAU,CAACU,GAAG,CAACC,IAAI,CAACZ,OAAO,CAAC,CAC9B,CAAC,CAAC,CACDc,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBR,KAAK,CAACQ,KAAK,CAACE,OAAO,CAAC,CACtB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,sCACE,aAAK,SAAS,CAAC,MAAM,wBACnB,WAAI,SAAS,CAAC,WAAW,gCAAwB,cACjD,cAAO,MAAM,CAAE,CAAE,uBACf,uBACGjB,OAAO,CAACkB,GAAG,CAAC,SAACC,KAAK,CAAK,CACtB,mBACE,YAAI,SAAS,CAAC,KAAK,wBACjB,YAAI,SAAS,CAAC,UAAU,wBACtB,YAAK,GAAG,CAAEA,KAAK,CAACC,GAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAE,GAAI,CAAC,MAAM,CAAE,GAAI,EAAG,cAC3D,oBAAKD,KAAK,CAACE,SAAS,EAAM,GACvB,cACL,oBAAKF,KAAK,CAACG,IAAI,EAAM,cACrB,iCACE,eACE,SAAS,CAAC,MAAM,CAChB,OAAO,CAAE,kBAAM,CACbnB,WAAW,CAACgB,KAAK,CAACV,EAAE,CAAC,CACvB,CAAE,UAEDP,OAAO,GAAKiB,KAAK,CAACV,EAAE,EAAI,GAAG,EACrB,EACN,GAfkBU,KAAK,CAACV,EAAE,CAgB5B,CAET,CAAC,CAAC,EACI,EACF,cACR,aAAK,SAAS,CAAC,MAAM,wBACnB,eAAQ,SAAS,CAAC,kBAAkB,CAAC,OAAO,CAAE,yBAAMN,YAAW,CAAC,CAAC,CAAC,EAAC,mBAE1D,cACT,eAAQ,SAAS,CAAC,iBAAiB,CAAC,OAAO,CAAEE,OAAQ,kBAE5C,GACL,GACF,EACL,CAEP,CAEA,cAAeN,YAAW"},"metadata":{},"sourceType":"module"}